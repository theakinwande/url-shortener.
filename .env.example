# ===========================================
# Environment Variables - Example Configuration
# ===========================================
# Copy this file to .env and customize for your environment.
# .env files are loaded automatically by many tools.
# NEVER commit .env to version control!
#
# Different environments:
# - .env.development (local dev)
# - .env.staging (staging server)
# - .env.production (production server)
# ===========================================

# ===========================================
# Server Configuration
# ===========================================
PORT=8080
GIN_MODE=debug
# GIN_MODE=release  # Use in production

# Timeouts (Go duration format: 5s, 10m, 1h)
SERVER_READ_TIMEOUT=5s
SERVER_WRITE_TIMEOUT=10s
SERVER_IDLE_TIMEOUT=120s

# ===========================================
# PostgreSQL Configuration
# ===========================================
# Format: postgres://user:password@host:port/database?sslmode=disable
DATABASE_URL=postgres://shortener:shortener_secret_password@localhost:5432/shortener?sslmode=disable

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ===========================================
# Redis Configuration
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Connection pool settings
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=3

# Cache TTL (how long URLs are cached)
REDIS_CACHE_TTL=1h

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_RPM=60          # Requests per minute
RATE_LIMIT_BURST=10        # Allow burst above limit
RATE_LIMIT_CLEANUP=10m     # Cleanup interval

# ===========================================
# URL Shortener Settings
# ===========================================
SHORT_CODE_LENGTH=8         # Length of generated codes
SHORT_CODE_MAX_LENGTH=16    # Max length for custom aliases
DEFAULT_URL_EXPIRY=0        # Default expiration (0 = never)
BASE_URL=http://localhost:8080  # Base URL for short links

# ===========================================
# SECURITY NOTES:
# ===========================================
#
# 1. DATABASE_URL contains password - never commit!
# 2. In production, use environment variables or secrets manager
# 3. Different passwords for each environment
# 4. Disable sslmode=disable in production!
#
# PRODUCTION RECOMMENDATIONS:
# - Use Docker secrets or Kubernetes secrets
# - Use AWS Secrets Manager / GCP Secret Manager / HashiCorp Vault
# - Enable SSL/TLS for database connections
# - Use strong, unique passwords (32+ characters)
#
# ===========================================
